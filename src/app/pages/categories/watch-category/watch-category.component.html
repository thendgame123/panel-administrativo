
<div class="categorias-content">
  <div class="categorias-wrapper">
    <div class="content-header">
      <button class="btn-back" (click)="goBack()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        <span>Volver</span>
      </button>
      <div class="header-left">
        <h2 class="page-title">Ver Categoría</h2>        
      </div>
    </div>

    <div class="content-body">
      <div class="dashboard-card">
        <div class="card-header">
          <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <div class="card-header-content">
            <h3 class="card-title">Información de la Categoría</h3>
          </div>
        </div>
        
        <div class="card-body">
          <form [formGroup]="categoryForm">
            
            <!-- Campo Título -->
            <div class="form-group">
              <label for="titulo" class="form-label">
                Título <span class="required">*</span>
              </label>
              <div class="input-wrapper">
                <span class="input-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                  </svg>
                </span>
                <input 
                  type="text" 
                  id="titulo" 
                  class="form-control"
                  [class.is-invalid]="categoryForm.get('titulo')?.invalid && (categoryForm.get('titulo')?.dirty || categoryForm.get('titulo')?.touched || submitted)"
                  placeholder="Ej: Seguridad y Emergencias"
                  formControlName="titulo"
                />
              </div>
            </div>

            <!-- Campo Descripción -->
            <div class="form-group">
              <label for="descripcion" class="form-label">Descripción</label>
              <textarea 
                id="descripcion" 
                class="form-control"
                rows="4"
                placeholder="Describe el contenido que incluirá esta categoría..."
                formControlName="descripcion"
              ></textarea>
            </div>

            <!-- Campo Imagen de Portada -->
            <div class="form-group">
              <label for="imagenPortada" class="form-label">Imagen de Portada</label>
              <div class="file-upload-wrapper">
                <input 
                  #fileInput
                  type="file" 
                  accept="image/*"
                  style="display: none"                  
                />
              </div>

              <!-- Preview de imagen actual -->
              <div class="image-preview" *ngIf="categoryForm.get('imagenPortada')?.value">
                <img [src]="categoryForm.get('imagenPortada')?.value" alt="Preview de imagen" />
              </div>
            </div>

            <!-- Campo Visibilidad -->
            <div class="form-group">
              <label class="form-label">Visibilidad</label>
              <div class="toggle-wrapper">
                <div class="toggle-content">
                  <span class="toggle-title">Categoría Activa</span>
                  <span class="toggle-description">Se mostrará en las pantallas interactivas</span>
                </div>
              </div>
            </div>

            <!-- Información de modificación -->
            <div class="form-group">
              <div class="info-card">
                <div class="info-item">
                  <span class="info-label">Fecha última de Modificación:</span>
                  <span class="info-value">{{ ultimaModificacion }}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Usuario último de Modificación:</span>
                  <span class="info-value">{{ usuarioModificacion }}</span>
                </div>
              </div>
            </div>

            <!-- Botones de acción -->
            <div class="form-actions">
              <button type="button" class="btn btn-secondary" (click)="onCancel()">
                Regresar
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>    
  </div>
</div>